/* http://farski.github.com/jquery-blend/license.txt */
+(function(a){a.fn.blend=function(b){var d={mode:"overlay",adjustment:"rgb(128, 128, 128)",opacity:1};b=a.extend(d,b);var c={normal:function(f,e){return e},darken:function(f,e){return Math.min(f,e)},multiply:function(f,e){return((f*e)/255)},colorburn:function(f,e){return e<=0?0:Math.max(255-((255-f)*255/e),0)},linearburn:function(f,e){return Math.max(0,(f+e-255))},lighten:function(f,e){return Math.max(f,e)},screen:function(f,e){return(255-(((255-f)*(255-e))/255))},colordodge:function(f,e){return e>=255?255:Math.min(f*255/(255-e),255)},lineardodge:function(f,e){return Math.min((f+e),255)},overlay:function(f,e){return(f<128)?((2*f*e)/255):(255-(2*(255-f)*(255-e)/255))},softlight:function(f,e){return(f<128)?(((e>>1)+64)*f*(2/255)):(255-(191-(e>>1))*(255-f)*(2/255))},hardlight:function(f,e){return e<128?(2*f*e)/255:255-((2*(255-f)*(255-e))/255)},difference:function(f,e){return Math.abs(f-e)},exclusion:function(f,e){return 255-(((255-f)*(255-e)/255)+(f*e/255))},subtract:function(f,e){return Math.max((f-e),0)}};return this.each(function(){var h=a(this);if("getContext" in document.createElement("canvas")){var e=new Image;e.src=h.attr("src");if(b.adjustment.match(/^rgb/)){e.onload=f}else{e.onload=g}}function f(){var s=b.adjustment.match(/rgb\(([0-9]+), ?([0-9]+), ?([0-9]+)/);var j=parseInt(s[1],10);var q=parseInt(s[2],10);var t=parseInt(s[3],10);var k=document.createElement("canvas");var w=k.getContext("2d");k.width=e.width;k.height=e.height;w.drawImage(e,0,0);var u=w.getImageData(0,0,k.width,k.height);var v=u.data;var p=b.mode;var n=b.opacity;for(var o=0,m=v.length;o<m;o+=4){v[o+0]=c[p](v[o+0],j);v[o+1]=c[p](v[o+1],q);v[o+2]=c[p](v[o+2],t)}w.putImageData(u,0,0);h.replaceWith(k)}function g(){var k=document.createElement("canvas");var i=k.getContext("2d");k.width=e.width;k.height=e.height;i.drawImage(e,0,0);var m=i.getImageData(0,0,k.width,k.height);var l=m.data;var j=new Image;j.src=b.adjustment;j.onload=function(){var o=document.createElement("canvas");var n=k.getContext("2d");o.width=e.width;o.height=e.height;n.drawImage(j,0,0);var s=n.getImageData(0,0,o.width,o.height);var t=s.data;var r=b.mode;var q=b.opacity;for(var p=0;p<l.length;p+=4){l[p+0]=c[r](l[p+0],t[p+0]);l[p+1]=c[r](l[p+1],t[p+1]);l[p+2]=c[r](l[p+2],t[p+2])}i.putImageData(m,0,0);h.replaceWith(k)}}})}})(jQuery);